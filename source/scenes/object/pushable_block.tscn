[gd_scene load_steps=6 format=3 uid="uid://cav1iv0x303d3"]

[ext_resource type="Material" uid="uid://blodixdy2ft6x" path="res://assets/materials/tile/dev/tile_cm_5.tres" id="1"]
[ext_resource type="Script" path="res://source/scripts/object/PushableBlock.gd" id="2"]
[ext_resource type="Resource" path="res://assets/resource/pushable/block_stone.tres" id="3"]

[sub_resource type="BoxMesh" id="2"]

[sub_resource type="BoxShape3D" id="3"]
size = Vector3(2, 2, 2)

[node name="Pushable" type="RigidBody3D" groups=["pushable"]]
max_contacts_reported = 3
contact_monitor = true
script = ExtResource("2")
type = ExtResource("3")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0)
mesh = SubResource("2")
surface_material_override/0 = ExtResource("1")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("3")

[node name="Tween" type="Tween" parent="."]
_import_path = NodePath("")
unique_name_in_owner = false
process_mode = 0
process_priority = 0
process_physics_priority = 0
process_thread_group = 0
editor_description = ""
playback_process_mode = 0
script = null

[node name="Rays" type="Node3D" parent="."]

[node name="RaysPX" type="Node3D" parent="Rays"]

[node name="RayCast3D" type="RayCast3D" parent="Rays/RaysPX"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1)
target_position = Vector3(1, 0, 0)
collision_mask = 13

[node name="RayCast2" type="RayCast3D" parent="Rays/RaysPX"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, -1)
target_position = Vector3(1, 0, 0)
collision_mask = 13

[node name="RayCast3" type="RayCast3D" parent="Rays/RaysPX"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, -1, -1)
target_position = Vector3(1, 0, 0)
collision_mask = 13

[node name="RayCast4" type="RayCast3D" parent="Rays/RaysPX"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, -1, 1)
target_position = Vector3(1, 0, 0)
collision_mask = 13

[node name="RaysNX" type="Node3D" parent="Rays"]

[node name="RayCast3D" type="RayCast3D" parent="Rays/RaysNX"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 1, 1)
target_position = Vector3(-1, 0, 0)
collision_mask = 13

[node name="RayCast2" type="RayCast3D" parent="Rays/RaysNX"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 1, -1)
target_position = Vector3(-1, 0, 0)
collision_mask = 13

[node name="RayCast3" type="RayCast3D" parent="Rays/RaysNX"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, -1, -1)
target_position = Vector3(-1, 0, 0)
collision_mask = 13

[node name="RayCast4" type="RayCast3D" parent="Rays/RaysNX"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, -1, 1)
target_position = Vector3(-1, 0, 0)
collision_mask = 13

[node name="RaysPZ" type="Node3D" parent="Rays"]

[node name="RayCast3D" type="RayCast3D" parent="Rays/RaysPZ"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1)
target_position = Vector3(0, 0, 1)
collision_mask = 13

[node name="RayCast2" type="RayCast3D" parent="Rays/RaysPZ"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 1, 1)
target_position = Vector3(0, 0, 1)
collision_mask = 13

[node name="RayCast3" type="RayCast3D" parent="Rays/RaysPZ"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, -1, 1)
target_position = Vector3(0, 0, 1)
collision_mask = 13

[node name="RayCast4" type="RayCast3D" parent="Rays/RaysPZ"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, -1, 1)
target_position = Vector3(0, 0, 1)
collision_mask = 13

[node name="RaysNZ" type="Node3D" parent="Rays"]

[node name="RayCast3D" type="RayCast3D" parent="Rays/RaysNZ"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, -1)
target_position = Vector3(0, 0, -1)
collision_mask = 13

[node name="RayCast2" type="RayCast3D" parent="Rays/RaysNZ"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 1, -1)
target_position = Vector3(0, 0, -1)
collision_mask = 13

[node name="RayCast3" type="RayCast3D" parent="Rays/RaysNZ"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, -1, -1)
target_position = Vector3(0, 0, -1)
collision_mask = 13

[node name="RayCast4" type="RayCast3D" parent="Rays/RaysNZ"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, -1, -1)
target_position = Vector3(0, 0, -1)
collision_mask = 13

[connection signal="body_entered" from="." to="." method="_on_Pushable_body_entered"]
[connection signal="body_exited" from="." to="." method="_on_Pushable_body_exited"]
