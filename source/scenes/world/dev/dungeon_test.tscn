[gd_scene load_steps=21 format=3 uid="uid://jylcw304fsoj"]

[ext_resource type="PackedScene" uid="uid://cftrrrqkubgk4" path="res://source/scenes/world/environment_default.tscn" id="1"]
[ext_resource type="Material" path="res://assets/materials/tile/dev/tile_floor.tres" id="2"]
[ext_resource type="Shader" path="res://assets/shader/cel.gdshader" id="3"]
[ext_resource type="PackedScene" uid="uid://qe6o56exka7r" path="res://source/scenes/object/switch.tscn" id="4"]
[ext_resource type="PackedScene" path="res://source/scenes/object/sign.tscn" id="5"]
[ext_resource type="PackedScene" uid="uid://bhwftcs373dll" path="res://source/scenes/object/door.tscn" id="6"]
[ext_resource type="PackedScene" path="res://source/scenes/object/ring_box.tscn" id="7"]
[ext_resource type="Resource" path="res://assets/resource/dialog/test_dialog.tres" id="8"]
[ext_resource type="PackedScene" uid="uid://ga8mfu74ecg2" path="res://source/scenes/entity/snail.tscn" id="9"]
[ext_resource type="Resource" path="res://assets/resource/identity/izabell.tres" id="10"]
[ext_resource type="Resource" path="res://assets/resource/identity/sunshine.tres" id="11"]
[ext_resource type="Resource" path="res://assets/resource/identity/fubward.tres" id="12"]
[ext_resource type="Texture2D" uid="uid://bjjp4pwt08pd4" path="res://assets/texture/tile/dev/tile.png" id="13"]
[ext_resource type="PackedScene" path="res://addons/snowball_framework/source/scenes/item/item.tscn" id="14"]
[ext_resource type="Resource" uid="uid://1a0frnky1205" path="res://assets/resource/item/item_test_0.tres" id="15"]
[ext_resource type="Resource" uid="uid://bou51he708ok1" path="res://assets/resource/item/item_test_1.tres" id="16"]
[ext_resource type="Resource" path="res://assets/resource/item/tool_samara.tres" id="17"]
[ext_resource type="Resource" uid="uid://ddmkh41hplgxt" path="res://assets/resource/item/item_test_2.tres" id="18"]
[ext_resource type="PackedScene" uid="uid://cav1iv0x303d3" path="res://source/scenes/object/pushable_block.tscn" id="19"]

[sub_resource type="ShaderMaterial" id="1"]
render_priority = 0
shader = ExtResource("3")
shader_parameter/use_diffuse = true
shader_parameter/use_specular = false
shader_parameter/use_rim = false
shader_parameter/use_light = true
shader_parameter/use_shadow = true
shader_parameter/albedo_color = Color(1, 1, 1, 1)
shader_parameter/shade_color = Color(0.690196, 0.760784, 0.74902, 1)
shader_parameter/specular_color = Color(0.75, 0.75, 0.75, 0.75)
shader_parameter/rim_color = Color(0.75, 0.75, 0.75, 0.75)
shader_parameter/emission = Color(0, 0, 0, 1)
shader_parameter/normal_scale = 0.1
shader_parameter/shade_threshold = 0.0
shader_parameter/shade_softness = 0.01
shader_parameter/specular_glossiness = 15.0
shader_parameter/specular_threshold = 0.5
shader_parameter/specular_softness = 0.1
shader_parameter/rim_threshold = 0.25
shader_parameter/rim_softness = 0.05
shader_parameter/rim_spread = 0.5
shader_parameter/shadow_threshold = 0.7
shader_parameter/shadow_softness = 0.0
shader_parameter/emission_energy = 1.0
shader_parameter/screen_scale = 10.0
shader_parameter/uv_scale = Vector3(0.5, 0.5, 0.5)
shader_parameter/uv_offset = Vector3(1, 0, 0)
shader_parameter/use_triplanar = true
shader_parameter/texture_albedo = ExtResource("13")

[node name="Room" type="Node3D"]

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
use_collision = true
collision_layer = 4
collision_mask = 5

[node name="CSGFloor" type="CSGBox3D" parent="CSGCombiner3D"]
size = Vector3(20, 2, 20)
material = ExtResource("2")

[node name="CSGWall" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 17, -9)
size = Vector3(16, 32, 2)
material = SubResource("1")

[node name="CSGInvert" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4, -9)
operation = 2
size = Vector3(6, 6, 2)
material = SubResource("1")

[node name="CSGWall2" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 17, 9)
size = Vector3(16, 32, 2)
material = SubResource("1")

[node name="CSGWall3" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -9, 17, 3.93403e-07)
size = Vector3(16, 32, 2)
material = SubResource("1")

[node name="CSGWall4" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 9, 17, 0)
size = Vector3(16, 32, 2)
material = SubResource("1")

[node name="CSGFloor2" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -18)
size = Vector3(20, 2, 20)
material = ExtResource("2")

[node name="CSGWall5" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 17, -27)
visible = false
size = Vector3(16, 32, 2)
material = SubResource("1")

[node name="CSGWall6" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -9, 17, -18)
size = Vector3(16, 32, 2)
material = SubResource("1")

[node name="CSGWall7" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 9, 17, -18)
size = Vector3(16, 32, 2)
material = SubResource("1")

[node name="Objects" type="Node3D" parent="."]

[node name="Sign" parent="Objects" instance=ExtResource("5")]
transform = Transform3D(0.976706, 0, -0.214582, 0, 1, 0, 0.214582, 0, 0.976706, 4.23033, 0, -6.64016)
dialog = ExtResource("8")

[node name="CameraTarget" type="Marker3D" parent="Objects/Sign"]
transform = Transform3D(0.883863, -0.11995, 0.452099, -0.0265581, 0.952129, 0.304539, -0.466986, -0.281178, 0.838367, 2.0798, 1.67117, 4.03859)

[node name="Door" parent="Objects" instance=ExtResource("6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, -9)

[node name="Switch" parent="Objects/Door" instance=ExtResource("4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, -3, 4)

[node name="CameraTarget" type="Marker3D" parent="Objects/Door/Switch"]
transform = Transform3D(0.948766, -0.115586, 0.29408, 0, 0.930692, 0.365803, -0.31598, -0.347061, 0.883009, 7.49934, 5.33386, 8.78371)

[node name="RingBox" parent="Objects" instance=ExtResource("7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0739462, 0.92962, -21.7702)

[node name="Item" parent="Objects" instance=ExtResource("14")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.27924, 0.456024, -2.30122)
type = ExtResource("15")

[node name="Item2" parent="Objects" instance=ExtResource("14")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.77595, 0.456025, 0.212433)
type = ExtResource("16")

[node name="Item3" parent="Objects" instance=ExtResource("14")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.8755, 0.456024, 3.48815)
type = ExtResource("18")

[node name="Item4" parent="Objects" instance=ExtResource("14")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.59018, 0.456024, 6.39467)
type = ExtResource("18")

[node name="Item5" parent="Objects" instance=ExtResource("14")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.40982, 0.456024, 6.39467)
type = ExtResource("18")

[node name="Item6" parent="Objects" instance=ExtResource("14")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.40982, 0.456024, 6.39467)
type = ExtResource("17")

[node name="EnvironmentDefault" parent="." instance=ExtResource("1")]

[node name="Warps" type="Node3D" parent="."]

[node name="Snail" parent="." instance=ExtResource("9")]
transform = Transform3D(-0.819222, 0, -0.573476, 0, 1, 0, 0.573476, 0, -0.819222, -5.26544, 0.562079, -21.725)
identity = ExtResource("10")
dialog = ExtResource("8")

[node name="Snail2" parent="." instance=ExtResource("9")]
transform = Transform3D(-0.994779, 0, 0.102046, 0, 1, 0, -0.102046, 0, -0.994779, -3.47718, 0.562079, -21.725)
identity = ExtResource("12")
dialog = ExtResource("8")

[node name="Snail3" parent="." instance=ExtResource("9")]
transform = Transform3D(-0.8785, 0, 0.477742, 0, 1, 0, -0.477742, 0, -0.8785, -2.32174, 0.562079, -21.725)
identity = ExtResource("11")
dialog = ExtResource("8")

[node name="Pushable" parent="." instance=ExtResource("19")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 1, 1)
